---
import type { HTMLInputTypeAttribute } from "react";

interface Props {
  placeholder: string;
  id: string;
  type?: HTMLInputTypeAttribute;
  width?: string;
  height?: string;
  continerWidth?: string;
  containerHeight?: string
  isTextarea?: boolean
}

// Вычисляем значения атрибутов заранее
const inputType = Astro.props.type  ?? "text";
const isTextarea = Astro.props.isTextarea ?? false;
const inputId = Astro.props.id;
const inputPlaceholder = Astro.props.placeholder;
---

<div class="container" style={`width: ${Astro.props.continerWidth ?? "fit-content"}; height: ${Astro.props.containerHeight ?? "fit-content"};`}>
  {!isTextarea ? (
    <input style={`width: ${Astro.props.width ?? "fit-content"}; height: ${Astro.props.height ?? "fit-content"};`} type={inputType} id={inputId} placeholder={inputPlaceholder} />
  ) : (
    <textarea style={`width: ${Astro.props.width ?? "fit-content"}; height: ${Astro.props.height ?? "fit-content"};`} id={inputId} placeholder={inputPlaceholder}></textarea>
  )}
  <div class="elipse"></div>
</div>

<style>
  input{
    font-family: inherit;
    font-weight: 400;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: 0%;
    color: black;
    padding: 20px 0px 20px 50px;
    outline: none;
    border: none;
    box-shadow: -5px 5px 5px 2px #00000040 inset;
  }
  textarea{
    font-family: inherit;
    font-weight: 400;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: 0%;
    color: black;
    padding: 20px 0px 20px 50px;
    outline: none;
    border: none;
    box-shadow: -5px 5px 5px 2px #00000040 inset;
  }
  input::placeholder{
    color: black;
    padding: 20px 0px 20px 0px;
    
  }
  input:active{
    outline: none;
  }
  .container{
    display: flex;
    align-items: center;
    gap: 30px;
    width: 100%;
    height: 100%;
  }
  .container:hover *{
    box-shadow: -5px 5px 1px 2px #00000040 inset;
  }
  .container *:focus{
    box-shadow: -5px 5px 1px 2px #00000040 inset;
  }
  .elipse{
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 50px;
  }
  input:focus ~ .elipse {
    background-color: #54AC3E;
  }
  textarea:focus ~ .elipse {
    background-color: #54AC3E;
  }
  
</style>